<!DOCTYPE html><html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ú©Ø§Ù†ÙÛŒÚ¯ Ù‡Ø§</title><style>
body{
    margin:0;
    font-family:sans-serif;
    background:#0b132b;
    color:#fff;
    direction: rtl;
}
.container{
    padding:15px;
    max-width:500px;
    margin:auto;
}
h1{text-align:center;}

input{
    width:100%;
    padding:12px;
    border:none;
    border-radius:20px;
    margin-bottom:10px;
}

button{
    width:100%;
    padding:12px;
    border:none;
    border-radius:20px;
    margin-bottom:10px;
    color:#fff;
}

.update{background:linear-gradient(45deg,#00c6ff,#0072ff);}
.country{background:linear-gradient(45deg,#ff7e5f,#feb47b);}
.telegram{background:linear-gradient(45deg,#0088cc,#00aced);}
.card{
    display:flex;
    justify-content:space-between;
    background:#1c2541;
    margin:8px 0;
    padding:10px;
    border-radius:15px;
    font-size:12px;
}
.copy{background:linear-gradient(45deg,#7f00ff,#e100ff);}

.list{
    max-height:0;
    overflow:hidden;
    transition:0.4s;
}
.list.open{max-height:1000px;}
</style></head><body><div class="container">
<h1>ğŸŒ Ú©Ø§Ù†ÙÛŒÚ¯ Ù‡Ø§</h1><button class="telegram" onclick="window.open('https://t.me/V2raying_config')">
ğŸ“¢ Ú©Ø§Ù†Ø§Ù„ ØªÙ„Ú¯Ø±Ø§Ù…
</button><input id="search" placeholder="ğŸ” Ø¬Ø³ØªØ¬Ùˆ..." oninput="searchConfigs()"><button class="update" onclick="loadConfigs()">ğŸ”„ Ø¢Ù¾Ø¯ÛŒØª</button>

<div id="lastUpdate"></div>
<div id="countries"></div>
</div><script>

let data=[];
let opened=null;

function getTime(){
return new Date().toLocaleTimeString("fa-IR",{timeZone:"Asia/Tehran"});
}

function safeDecode(t){
try{return atob(t.trim())}catch{return t}
}

async function loadConfigs(){

document.getElementById("countries").innerHTML="â³ Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø±ÛŒØ§ÙØª...";

try{

const urls=[
"https://raw.githubusercontent.com/v2fly/free-nodes/main/sub",
"https://raw.githubusercontent.com/mahdibland/V2RayAggregator/master/sub/sub_merge_base64.txt"
];

let all=[];

for(let u of urls){
try{
let r=await fetch(u);
let t=await r.text();
t=safeDecode(t);
all=all.concat(t.split("\n"));
}catch{}
}

all=all.filter(x=>x.startsWith("vmess")||x.startsWith("vless")||x.startsWith("trojan"));

let usa=[],de=[];

all.forEach(c=>{
let x=c.toLowerCase();
if(x.includes("us")) usa.push(c);
if(x.includes("de")) de.push(c);
});

data=[
{name:"Ø¢Ù…Ø±ÛŒÚ©Ø§",configs:usa.slice(0,50)},
{name:"Ø¢Ù„Ù…Ø§Ù†",configs:de.slice(0,50)}
];

document.getElementById("lastUpdate").innerText="Ø¢Ø®Ø±ÛŒÙ† Ø¢Ù¾Ø¯ÛŒØª: "+getTime();

show();

}catch(e){
document.getElementById("countries").innerHTML="âŒ Ø®Ø·Ø§";
console.log(e);
}
}

function show(){
let div=document.getElementById("countries");
div.innerHTML="";

data.forEach(c=>{
let wrap=document.createElement("div");

let btn=document.createElement("button");
btn.className="country";
btn.innerText=(c.name==="Ø¢Ù…Ø±ÛŒÚ©Ø§"?"ğŸ‡ºğŸ‡¸ ":"ğŸ‡©ğŸ‡ª ")+c.name+" ("+c.configs.length+")";

let list=document.createElement("div");
list.className="list";

btn.onclick=()=>{
if(opened&&opened!==list) opened.classList.remove("open");
list.classList.toggle("open");
opened=list;
};

let allBtn=document.createElement("button");
allBtn.className="update";
allBtn.innerText="ğŸ“‹ Ú©Ù¾ÛŒ Ù‡Ù…Ù‡";
allBtn.onclick=()=>navigator.clipboard.writeText(c.configs.join("\n"));
list.appendChild(allBtn);

c.configs.forEach(cfg=>{
let card=document.createElement("div");
card.className="card";

let t=document.createElement("div");
t.innerText=cfg;

let copy=document.createElement("button");
copy.className="copy";
copy.innerText="Ú©Ù¾ÛŒ";
copy.onclick=()=>navigator.clipboard.writeText(cfg);

card.appendChild(t);
card.appendChild(copy);
list.appendChild(card);
});

wrap.appendChild(btn);
wrap.appendChild(list);
div.appendChild(wrap);
});
}

function searchConfigs(){
let v=document.getElementById("search").value.toLowerCase();
document.querySelectorAll("#countries > div").forEach(w=>{
w.style.display=w.innerText.toLowerCase().includes(v)?"block":"none";
});
}

loadConfigs();

</script></body>
</html>
